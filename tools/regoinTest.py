#!/usr/bin/env python3

import urllib
import http.client as httplib
import time
import datetime

id = '1234567890123456'
# server = 'iotstagingenv.duckdns.org:5055'
server = 'localhost:5055'



points = [    ("2025-09-14 13:38:49",46.556285,-71.594115,50.216,222),
             ("2025-09-14 13:43:33",46.51371,-71.658135,50.756,224),
             ("2025-09-14 13:46:50",46.490273,-71.677411,8.09935,95),
             ("2025-09-14 13:50:31",46.483436,-71.704685,51.2959,233),
             ("2025-09-14 13:58:14",46.410996,-71.815618,50.216,226),
             ("2025-09-14 14:06:12",46.32941,-71.923686,50.756,220),
             ("2025-09-14 14:14:10",46.251728,-72.044801,50.216,227),
             ("2025-09-14 14:22:37",46.1624,-72.14663,54.5357,228),
             ("2025-09-14 14:25:07",46.136636,-72.185715,55.0756,224),
             ("2025-09-14 14:34:04",46.046031,-72.325615,51.2959,219),
             ("2025-09-14 14:40:47",45.970035,-72.416485,52.3758,220),
             ("2025-09-14 14:42:47",45.946795,-72.444235,50.216,219),
             ("2025-09-14 14:43:17",45.941353,-72.450835,52.3758,220),
             ("2025-09-14 14:52:14",45.859151,-72.576005,48.5961,221),
             ("2025-09-14 14:56:13",45.814796,-72.629235,52.3758,219),
             ("2025-09-14 15:12:39",45.660181,-72.894105,55.0756,253),
             ("2025-09-14 15:13:38",45.656131,-72.914373,55.6156,254),
             ("2025-09-14 15:15:38",45.648085,-72.954485,51.2959,254),
             ("2025-09-14 15:20:51",45.624078,-73.050138,50.216,245),
             ("2025-09-14 15:23:06",45.610398,-73.091843,55.0756,245),
             ("2025-09-14 15:32:31",45.59985,-73.12606,4.31966,250),
             ("2025-09-14 15:34:48",45.595008,-73.161016,49.676,268),
             ("2025-09-14 15:36:17",45.5945,-73.189063,45.3564,268),
             ("2025-09-14 15:37:02",45.594385,-73.203241,48.5961,269),
             ("2025-09-14 15:44:00",45.578378,-73.339848,49.1361,259),
             ("2025-09-14 15:58:11",45.463656,-73.400381,37.257,225),
             ("2025-09-14 16:07:24",45.470463,-73.535408,45.3564,271),
             ("2025-09-14 16:09:49",45.473713,-73.57541,39.9568,220),
             ("2025-09-14 16:13:06",45.462696,-73.584658,7.5594,131),
             ("2025-09-14 16:13:22",45.462625,-73.58366,5.93953,96),
             ("2025-09-15 14:28:19",45.461813,-73.584736,10.2592,333),
             ("2025-09-15 14:40:50",45.452903,-73.629828,38.3369,225),
             ("2025-09-15 14:47:48",45.447791,-73.739353,19.9784,255),
             ("2025-09-15 14:48:33",45.45088,-73.740898,23.7581,72),
             ("2025-09-15 14:50:02",45.452295,-73.734813,5.93953,162),
             ("2025-09-15 15:43:46",45.489301,-73.686736,51.8359,52),
             ("2025-09-15 15:46:47",45.498835,-73.671578,30.2376,41),
             ("2025-09-15 15:48:17",45.502033,-73.666603,24.2981,68),
             ("2025-09-15 15:52:01",45.508733,-73.662133,7.01944,20),
             ("2025-09-15 15:52:46",45.512101,-73.66003,14.0389,25),
             ("2025-09-15 15:57:00",45.537675,-73.643818,17.8186,26),
             ("2025-09-15 15:58:02",45.536556,-73.642338,4.85961,246),
             ("2025-09-15 18:16:36",45.536486,-73.642371,1.61987,115),
             ("2025-09-15 18:29:18",45.51111,-73.660873,18.8985,204),
             ("2025-09-15 18:32:32",45.498388,-73.659613,5.39957,132),
             ("2025-09-15 18:39:15",45.47158,-73.607493,48.0562,121),
             ("2025-09-15 18:40:30",45.464796,-73.586556,55.6156,89),
             ("2025-09-15 18:52:36",45.464123,-73.467998,31.8575,129),
             ("2025-09-15 19:40:16",45.452916,-73.466641,4.85961,158),
             ("2025-09-15 19:57:39",45.447608,-73.490576,10.7991,267),
             ("2025-09-15 22:20:52",45.445411,-73.470208,7.5594,302),
             ("2025-09-15 22:20:57",45.445483,-73.470415,3.7797,232),
             ("2025-09-15 23:11:30",45.442386,-73.441068,26.9979,39),
             ("2025-09-15 23:11:58",45.444691,-73.437895,17.2786,116),
             ("2025-09-15 23:12:07",45.444523,-73.437316,12.419,37),
             ("2025-09-15 23:13:14",45.445751,-73.435638,6.47948,201),
             ("2025-09-16 02:19:40",45.44186,-73.442221,11.8791,292),
             ("2025-09-16 02:20:54",45.446701,-73.44941,15.1188,306),
             ("2025-09-16 02:34:38",45.457291,-73.492213,11.8791,337),
             ("2025-09-16 02:34:39",45.457353,-73.492228,14.5788,357),
             ("2025-09-16 13:00:05",45.391848,-73.468876,58.8553,204),
             ("2025-09-16 13:01:20",45.378935,-73.489428,53.9957,233),
             ("2025-09-16 13:05:19",45.34938,-73.520236,51.8359,180),
             ("2025-09-16 13:06:55",45.331573,-73.516423,14.0389,232),
             ("2025-09-16 13:10:03",45.311455,-73.52216,26.9979,194),
             ("2025-09-16 13:10:47",45.306391,-73.526925,30.7775,210),
             ("2025-09-16 13:11:32",45.299475,-73.529795,38.3369,193),
             ("2025-09-16 13:13:32",45.278025,-73.535851,42.6566,180),
             ("2025-09-16 13:14:46",45.268395,-73.547556,44.2765,264),
             ("2025-09-16 13:15:37",45.261161,-73.557668,42.1166,203),
             ("2025-09-16 13:18:30",45.236425,-73.569346,28.0778,204),
             ("2025-09-16 14:19:59",45.171408,-73.58599,19.9784,37),
             ("2025-09-16 14:29:12",45.238446,-73.568028,28.6177,24),
             ("2025-09-16 14:35:40",45.25899,-73.609985,12.419,195),
             ("2025-09-16 14:38:54",45.263226,-73.611298,28.6177,344),
             ("2025-09-16 14:40:24",45.276545,-73.616668,39.9568,344),
             ("2025-09-16 14:51:06",45.382421,-73.659831,32.9374,344),
             ("2025-09-16 14:51:21",45.384498,-73.66068,28.0778,344),
             ("2025-09-16 14:51:51",45.388678,-73.662398,32.9374,343),
             ("2025-09-16 15:06:23",45.447695,-73.740906,15.6588,291),
             ("2025-09-16 15:06:59",45.450653,-73.74133,23.2182,39),
             ("2025-09-16 15:11:24",45.453485,-73.735211,11.8791,70),
             ("2025-09-16 15:21:58",45.45245,-73.734536,0.539957,165),
             ("2025-09-16 15:22:03",45.45254,-73.734476,5.93953,345),
             ("2025-09-16 16:59:44",45.453045,-73.735956,4.31966,196),
             ("2025-09-16 17:00:18",45.452621,-73.735741,3.23974,335),
             ("2025-09-16 17:03:00",45.464613,-73.719421,19.4385,42),
             ("2025-09-16 17:06:00",45.473503,-73.707341,16.1987,99),
             ("2025-09-16 17:08:13",45.484508,-73.727823,51.8359,312),
             ("2025-09-16 17:15:24",45.527416,-73.782835,10.7991,27),
             ("2025-09-16 18:04:50",45.527675,-73.782293,13.4989,240),
             ("2025-09-16 18:04:57",45.52745,-73.782778,7.5594,233),
             ("2025-09-16 18:10:40",45.52659,-73.811086,26.9979,262),
             ("2025-09-16 18:13:54",45.521038,-73.836056,27.5378,278),
             ("2025-09-16 20:25:31",45.521513,-73.842353,16.7387,329),
             ("2025-09-16 20:32:20",45.522523,-73.801191,11.8791,133),
             ("2025-09-16 20:32:44",45.521313,-73.79725,30.2376,87),
             ("2025-09-16 20:37:58",45.501091,-73.75394,13.4989,134),
             ("2025-09-16 20:38:43",45.498936,-73.750511,7.5594,131),
             ("2025-09-16 20:41:12",45.492235,-73.74129,16.7387,188),
             ("2025-09-16 20:41:38",45.49101,-73.743506,14.0389,270),
             ("2025-09-16 20:43:26",45.490086,-73.7617,27.5378,264),
             ("2025-09-16 20:45:41",45.483211,-73.786853,21.0583,236),
             ("2025-09-16 20:46:11",45.480816,-73.791795,34.0173,235),
             ("2025-09-16 20:56:38",45.420565,-73.948878,31.8575,275),
             ("2025-09-16 20:59:37",45.41955,-73.993028,41.5767,260),
             ("2025-09-16 21:03:06",45.399306,-74.060018,51.8359,212),
             ("2025-09-16 21:03:06",45.399103,-74.060195,50.756,210),
             ("2025-09-16 21:04:51",45.373145,-74.052593,62.635,165),
             ("2025-09-16 21:12:04",45.30082,-74.180335,69.1145,224),
             ("2025-09-16 21:14:33",45.268425,-74.21962,56.6955,223),
             ("2025-09-16 21:32:43",45.090856,-74.592185,61.5551,234),
             ("2025-09-16 21:37:27",45.0634,-74.700755,66.9547,267),
             ("2025-09-16 21:40:41",45.051615,-74.761918,42.6566,271),
             ("2025-09-16 21:49:24",45.028755,-74.953926,61.5551,240),
             ("2025-09-16 21:50:09",45.022276,-74.970145,63.7149,240),
             ("2025-09-16 21:56:52",44.957076,-75.100588,65.3348,240),
             ("2025-09-16 21:59:36",44.931723,-75.163451,65.8748,238),
             ("2025-09-16 22:07:04",44.863025,-75.319858,66.9547,234),
             ("2025-09-16 22:17:02",44.745158,-75.49233,56.6955,226),
             ("2025-09-16 22:27:44",44.617773,-75.676121,64.7948,229),
             ("2025-09-16 22:33:12",44.548208,-75.766581,62.635,203),
             ("2025-09-16 22:37:12",44.51452,-75.828715,62.0951,217),
             ("2025-09-16 22:40:41",44.466128,-75.876315,60.4752,210),
             ("2025-09-16 22:42:25",44.439958,-75.892408,64.2549,193),
             ("2025-09-16 22:46:54",44.386986,-75.965511,62.635,230),
             ("2025-09-16 22:53:07",44.350913,-76.106513,62.0951,245),
             ("2025-09-16 22:58:36",44.33151,-76.233393,64.7948,264),
             ("2025-09-16 22:59:06",44.330703,-76.24539,62.635,264),
             ("2025-09-16 23:03:35",44.319913,-76.358051,64.2549,256),
             ("2025-09-16 23:05:34",44.305026,-76.405518,64.2549,236),
             ("2025-09-16 23:05:55",44.30098,-76.412953,63.175,216),
             ("2025-09-16 23:06:19",44.295383,-76.417481,64.2549,222),
             ("2025-09-16 23:06:21",44.294755,-76.41837,64.2549,228),
             ("2025-09-16 23:11:11",44.270605,-76.499268,14.0389,205),
             ("2025-09-16 23:12:36",44.266201,-76.498613,11.8791,110),
             ("2025-09-16 23:20:45",44.266826,-76.5014,15.6588,271),
             ("2025-09-17 00:33:24",44.266875,-76.503511,5.93953,161),
             ("2025-09-17 00:34:56",44.265873,-76.499411,18.8985,83),
             ("2025-09-17 00:53:21",44.276343,-76.535566,57.2354,280),
             ("2025-09-17 00:55:53",44.287931,-76.591268,57.7754,255),
             ("2025-09-17 00:56:20",44.287616,-76.601551,64.2549,269),
             ("2025-09-17 00:57:05",44.287408,-76.620296,62.635,268),
             ("2025-09-17 01:10:46",44.265448,-76.943131,62.0951,266),
             ("2025-09-17 01:12:01",44.26269,-76.971105,62.635,243),
             ("2025-09-17 01:15:45",44.245828,-77.054475,58.3154,258),
             ("2025-09-17 01:18:59",44.235948,-77.126008,59.3953,259),
             ("2025-09-17 01:22:13",44.226085,-77.197168,61.0151,258),
             ("2025-09-17 01:23:13",44.222805,-77.220971,58.8553,259),
             ("2025-09-17 01:26:42",44.222015,-77.284288,43.1966,275),
             ("2025-09-17 01:33:40",44.182126,-77.437606,61.5551,251),
             ("2025-09-17 01:45:52",44.097633,-77.697483,66.4147,226),
             ("2025-09-17 01:49:13",44.074318,-77.769933,64.7948,233),
             ("2025-09-17 01:58:19",44.014721,-77.963816,58.3154,260),
             ("2025-09-17 01:58:33",44.014103,-77.969021,58.8553,260),
             ("2025-09-17 02:00:03",44.008753,-78.003916,62.635,253),
             ("2025-09-17 02:03:32",44.002826,-78.083025,62.0951,285),
             ("2025-09-17 02:20:57",43.934995,-78.471765,59.9352,252),
             ("2025-09-17 02:23:12",43.92392,-78.5216,53.4557,254),
             ("2025-09-17 02:35:23",43.909048,-78.593898,60.4752,253),
             ("2025-09-17 02:37:23",43.902086,-78.637788,54.5357,263),
             ("2025-09-17 02:39:07",43.898393,-78.677553,58.8553,252),
             ("2025-09-17 02:39:52",43.893196,-78.692733,58.8553,236),
             ("2025-09-17 02:50:19",43.866315,-78.918345,56.6955,254),
             ("2025-09-17 02:53:49",43.859196,-78.995863,58.3154,250),
             ("2025-09-17 02:55:48",43.850713,-79.03275,18.8985,253),
             ("2025-09-17 02:56:03",43.850463,-79.034005,11.8791,254),
             ("2025-09-17 02:58:19",43.845891,-79.055603,57.7754,239),
             ("2025-09-17 02:59:47",43.833213,-79.083125,56.1555,237),
             ("2025-09-17 03:07:00",43.78958,-79.224901,59.3953,231),
             ("2025-09-17 03:13:58",43.76597,-79.371396,50.216,265),
             ("2025-09-17 03:16:29",43.746133,-79.41782,57.7754,219),
             ("2025-09-17 03:28:39",43.657125,-79.569001,12.419,160),
             ("2025-09-17 03:33:08",43.651593,-79.566223,5.39957,162),
             ("2025-09-17 03:34:53",43.641285,-79.561606,47.5162,164),
             ("2025-09-17 03:42:21",43.547453,-79.622598,56.1555,222),
             ("2025-09-17 03:47:04",43.524066,-79.650583,14.5788,272),
             ("2025-09-17 03:47:23",43.523918,-79.651476,5.39957,163),
             ("2025-09-17 11:45:54",43.524028,-79.650311,8.63931,55),
             ("2025-09-17 11:46:23",43.525196,-79.649338,18.8985,133),
             ("2025-09-17 11:48:20",43.527905,-79.643341,28.0778,38),
             ("2025-09-17 11:55:48",43.56433,-79.603841,13.4989,38),
             ("2025-09-17 11:57:03",43.569013,-79.59882,11.8791,37),
             ("2025-09-17 11:57:18",43.569498,-79.598301,7.01944,38),
             ("2025-09-17 11:57:33",43.57024,-79.597503,15.6588,38),
             ("2025-09-17 12:01:17",43.589878,-79.576136,26.9979,38),
             ("2025-09-17 12:03:02",43.600726,-79.564335,42.1166,38),
             ("2025-09-17 12:07:16",43.622656,-79.50104,28.0778,73),
             ("2025-09-17 12:09:15",43.624346,-79.494118,15.6588,71),
             ("2025-09-17 12:12:29",43.626728,-79.483843,8.63931,77),
             ("2025-09-17 12:14:59",43.632823,-79.473476,22.1382,55),
             ("2025-09-17 12:38:02",43.641301,-79.39316,8.63931,16),
             ("2025-09-17 12:47:03",43.649773,-79.381378,4.85961,69),
             ("2025-09-17 12:48:20",43.650611,-79.379726,2.69978,358),
             ("2025-09-17 12:49:35",43.651578,-79.3713,1.61987,74),
             ("2025-09-17 12:52:19",43.654985,-79.360443,26.4579,85),
             ("2025-09-17 12:55:18",43.65857,-79.338075,12.959,72),
             ("2025-09-17 13:01:31",43.670505,-79.315058,9.71923,49),
             ("2025-09-17 13:04:14",43.670875,-79.313693,2.69978,4),
             ("2025-09-17 13:04:31",43.670823,-79.313861,10.2592,247),
             ("2025-09-17 15:15:10",43.665436,-79.316713,26.4579,250),
             ("2025-09-17 15:22:23",43.650695,-79.3478,18.3585,239),
             ("2025-09-17 15:26:54",43.64675,-79.36556,3.23974,255),
             ("2025-09-17 15:33:50",43.646256,-79.368776,0.539957,263),
             ("2025-09-17 15:46:32",43.627003,-79.48423,43.1966,253),
             ("2025-09-17 15:46:46",43.62616,-79.487868,42.1166,251),
             ("2025-09-17 15:49:31",43.615826,-79.537053,52.3758,255),
             ("2025-09-17 15:56:14",43.545408,-79.624815,55.0756,218),
             ("2025-09-17 15:57:50",43.526996,-79.64547,41.5767,240),
             ("2025-09-17 17:44:36",43.52728,-79.65271,5.39957,180),
             ("2025-09-17 17:44:44",43.526891,-79.653098,16.1987,214),
             ("2025-09-18 11:23:42",43.525631,-79.653316,25.378,357),
             ("2025-09-18 12:48:13",43.524185,-79.647983,31.3175,137),
             ("2025-09-18 12:48:25",43.52286,-79.647265,22.1382,224),
             ("2025-09-18 12:48:32",43.522798,-79.64807,23.2182,299),
             ("2025-09-18 12:57:11",43.555823,-79.610815,11.8791,27),
             ("2025-09-18 13:03:09",43.581835,-79.584813,18.3585,38),
             ("2025-09-18 13:10:22",43.629693,-79.55726,17.2786,343),
             ("2025-09-18 13:11:22",43.635895,-79.559501,23.2182,346),
             ("2025-09-18 13:18:20",43.697465,-79.564375,12.419,32),
             ("2025-09-18 13:19:20",43.702606,-79.559696,8.09935,34),
             ("2025-09-18 13:20:05",43.704436,-79.55808,23.7581,32),
             ("2025-09-18 13:23:49",43.714836,-79.529185,20.5184,71),
             ("2025-09-18 13:30:02",43.726725,-79.46341,43.7365,73),
             ("2025-09-18 13:33:16",43.742371,-79.423066,11.3391,46),
             ("2025-09-18 13:40:44",43.76687,-79.34891,55.0756,86),
             ("2025-09-18 13:44:43",43.778583,-79.267775,58.3154,74),
             ("2025-09-18 13:50:16",43.797293,-79.144995,62.0951,49),
             ("2025-09-18 13:54:55",43.843713,-79.05994,63.175,57),
             ("2025-09-18 13:55:09",43.84598,-79.054943,59.3953,63),
             ("2025-09-18 13:58:09",43.860545,-78.989718,59.3953,71),
             ("2025-09-18 13:59:39",43.867118,-78.95685,60.4752,85),
             ("2025-09-18 14:02:38",43.871991,-78.892768,62.0951,72),
             ("2025-09-18 14:03:08",43.87468,-78.881575,59.9352,68),
             ("2025-09-18 14:04:38",43.883071,-78.849018,53.9957,72),
             ("2025-09-18 14:11:36",43.893271,-78.692173,58.3154,56),
             ("2025-09-18 14:18:34",43.922013,-78.529956,66.4147,74),
             ("2025-09-18 14:39:43",43.946835,-78.41793,60.4752,73),
             ("2025-09-18 14:43:57",43.9669,-78.320298,58.8553,82),
             ("2025-09-18 14:44:57",43.969165,-78.296888,62.635,82),
             ("2025-09-18 14:48:56",43.978688,-78.208075,64.7948,94),
             ("2025-09-18 14:55:39",43.998298,-78.05945,65.3348,78),
             ("2025-09-18 14:59:38",44.014136,-77.967226,63.7149,80),
             ("2025-09-18 15:01:08",44.018521,-77.93097,65.8748,76),
             ("2025-09-18 15:03:03",44.027296,-77.884741,68.5745,70),
             ("2025-09-18 15:05:36",44.048533,-77.829733,64.2549,36),
             ("2025-09-18 15:07:36",44.061241,-77.78712,64.7948,68),
             ("2025-09-18 15:10:20",44.080885,-77.734103,61.0151,71),
             ("2025-09-18 15:12:49",44.101843,-77.686573,62.635,71),
             ("2025-09-18 15:19:33",44.15039,-77.54526,62.635,55),
             ("2025-09-18 15:20:03",44.155341,-77.535033,62.635,56),
             ("2025-09-18 15:25:16",44.184866,-77.426048,63.175,70),
             ("2025-09-18 15:28:00",44.203003,-77.365661,61.0151,59),
             ("2025-09-18 15:36:43",44.2305,-77.164173,59.3953,79),
         ]

def send(conn, time, lat, lon, speed, heading):
    params = (('id', id), ('timestamp', int(time)), ('lat', lat), ('lon', lon), ('speed', speed), ('heading', heading))
    conn.request('POST', '?' + urllib.parse.urlencode(params))
    conn.getresponse().read()

conn = httplib.HTTPConnection(server)

for i in range(0, len(points)):
    (moment,lat, lon, speed,heading) = points[i]
    (momentOld,latOld, lonOld, speedOld,headingOld) = points[i-1]

    time_dif = time.mktime(datetime.datetime.strptime(moment, "%Y-%m-%d %H:%M:%S").timetuple()) - time.mktime(datetime.datetime.strptime(momentOld, "%Y-%m-%d %H:%M:%S").timetuple())
    time.sleep(2)
#     if i-1 >= 0:
#         time.sleep(2)

    #send(conn, time.mktime(datetime.datetime.strptime(moment, "%Y-%m-%d %H:%M:%S").timetuple()), lat, lon, speed)
    print("sending ", time.mktime(time.localtime(time.time())), lat, lon, speed)
    send(conn, time.mktime(time.localtime(time.time())), lat, lon, speed,heading)

