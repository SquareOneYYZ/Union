#!/usr/bin/env python3
"""
JT/T 1078-2016 Video Communication Protocol Decoder
Based on the Chinese standard for GNSS System for operating vehicles - video communication protocol
"""

import struct
import datetime
from typing import Dict, List, Any, Optional, Tuple
from dataclasses import dataclass
from enum import IntEnum

class MessageType(IntEnum):
    """JT/T 1078 Message Types"""
    # Standard JT/T 808 messages
    MSG_TERMINAL_GENERAL_RESPONSE = 0x0001
    MSG_GENERAL_RESPONSE = 0x8001
    MSG_HEARTBEAT = 0x0002
    MSG_TERMINAL_REGISTER = 0x0100
    MSG_TERMINAL_REGISTER_RESPONSE = 0x8100
    MSG_TERMINAL_AUTH = 0x0102
    MSG_LOCATION_REPORT = 0x0200
    MSG_LOCATION_BATCH = 0x0704
    
    # JT/T 1078 Video extensions
    MSG_TERMINAL_AUDIO_VIDEO_ATTRIBUTES = 0x1003
    MSG_QUERY_AUDIO_VIDEO_ATTRIBUTES = 0x9003
    MSG_PASSENGER_FLOW_UPLOAD = 0x1005
    MSG_REALTIME_AV_REQUEST = 0x9101
    MSG_REALTIME_AV_CONTROL = 0x9102
    MSG_AV_STATUS_NOTIFICATION = 0x9105
    MSG_QUERY_RESOURCE_LIST = 0x9205
    MSG_AUDIO_VIDEO_RESOURCE_LIST = 0x1205
    MSG_FILE_UPLOAD_INSTRUCTION = 0x9206
    MSG_FILE_UPLOAD_COMPLETE = 0x1206
    MSG_FILE_UPLOAD_CONTROL = 0x9207
    
    # PTZ Control
    MSG_PTZ_ROTATION = 0x9301
    MSG_PTZ_FOCUS = 0x9302
    MSG_PTZ_APERTURE = 0x9303
    MSG_PTZ_WIPER = 0x9304
    MSG_PTZ_INFRARED = 0x9305
    MSG_PTZ_ZOOM = 0x9306

@dataclass
class Position:
    """Position data structure"""
    device_id: str
    timestamp: datetime.datetime
    latitude: float = 0.0
    longitude: float = 0.0
    altitude: int = 0
    speed: float = 0.0  # km/h
    course: int = 0
    valid: bool = False
    alarms: List[str] = None
    attributes: Dict[str, Any] = None
    
    def __post_init__(self):
        if self.alarms is None:
            self.alarms = []
        if self.attributes is None:
            self.attributes = {}

class JT1078Decoder:
    """JT/T 1078 Protocol Decoder"""
    
    def __init__(self):
        self.start_flag = 0x7E
        
    def unescape_data(self, data: bytes) -> bytes:
        """Remove escape sequences from data"""
        result = bytearray()
        i = 0
        while i < len(data):
            if data[i] == 0x7D and i + 1 < len(data):
                if data[i + 1] == 0x02:
                    result.append(0x7E)
                    i += 2
                elif data[i + 1] == 0x01:
                    result.append(0x7D)
                    i += 2
                else:
                    result.append(data[i])
                    i += 1
            else:
                result.append(data[i])
                i += 1
        return bytes(result)
    
    def decode_bcd_device_id(self, data: bytes) -> str:
        """Decode BCD-encoded device ID"""
        device_id = ""
        for byte in data:
            high = (byte >> 4) & 0x0F
            low = byte & 0x0F
            device_id += f"{high}{low}"
        return device_id
    
    def decode_bcd_time(self, data: bytes) -> datetime.datetime:
        """Decode BCD-encoded timestamp (YY-MM-DD-HH-MM-SS)"""
        year = int(f"{(data[0] >> 4) & 0x0F}{data[0] & 0x0F}")
        month = int(f"{(data[1] >> 4) & 0x0F}{data[1] & 0x0F}")
        day = int(f"{(data[2] >> 4) & 0x0F}{data[2] & 0x0F}")
        hour = int(f"{(data[3] >> 4) & 0x0F}{data[3] & 0x0F}")
        minute = int(f"{(data[4] >> 4) & 0x0F}{data[4] & 0x0F}")
        second = int(f"{(data[5] >> 4) & 0x0F}{data[5] & 0x0F}")
        
        # Assume 21st century for 2-digit years
        full_year = 2000 + year if year < 50 else 1900 + year
        
        return datetime.datetime(full_year, month, day, hour, minute, second)
    
    def parse_message_header(self, data: bytes) -> Tuple[int, int, str, int, bytes]:
        """Parse message header and return components"""
        if len(data) < 12:
            raise ValueError("Data too short for message header")
            
        # Parse header
        message_id = struct.unpack('>H', data[0:2])[0]
        message_properties = struct.unpack('>H', data[2:4])[0]
        
        # Extract message length and properties
        message_length = message_properties & 0x3FF
        has_subpacket = bool(message_properties & 0x2000)
        encryption_type = (message_properties >> 10) & 0x7
        
        # Device ID (6 bytes BCD)
        device_id_bytes = data[4:10]
        device_id = self.decode_bcd_device_id(device_id_bytes)
        
        # Message sequence number
        sequence_number = struct.unpack('>H', data[10:12])[0]
        
        # Message body
        message_body = data[12:12+message_length]
        
        return message_id, message_properties, device_id, sequence_number, message_body
    
    def decode_location_report(self, device_id: str, body: bytes) -> Position:
        """Decode location report message (0x0200)"""
        if len(body) < 28:
            raise ValueError("Location report body too short")
            
        position = Position(device_id=device_id, timestamp=datetime.datetime.now())
        
        # Parse location data
        alarm_flags = struct.unpack('>I', body[0:4])[0]
        status_flags = struct.unpack('>I', body[4:8])[0]
        
        # Decode alarm flags
        self.decode_alarm_flags(position, alarm_flags)
        
        # GPS status
        position.valid = bool(status_flags & 0x02)
        
        # Coordinates (in 1/1000000 degrees)
        latitude = struct.unpack('>I', body[8:12])[0] / 1000000.0
        longitude = struct.unpack('>I', body[12:16])[0] / 1000000.0
        
        # Apply hemisphere flags
        if status_flags & 0x04:  # South latitude
            latitude = -latitude
        if status_flags & 0x08:  # West longitude  
            longitude = -longitude
            
        position.latitude = latitude
        position.longitude = longitude
        
        # Altitude, speed, course
        position.altitude = struct.unpack('>H', body[16:18])[0]
        position.speed = struct.unpack('>H', body[18:20])[0] * 0.1  # 0.1 km/h units
        position.course = struct.unpack('>H', body[20:22])[0]
        
        # Time (6 bytes BCD)
        time_data = body[22:28]
        position.timestamp = self.decode_bcd_time(time_data)
        
        # Parse additional information (JT/T 1078 extensions)
        if len(body) > 28:
            self.decode_additional_info(position, body[28:])
            
        return position
    
    def decode_alarm_flags(self, position: Position, alarm_flags: int):
        """Decode standard alarm flags"""
        if alarm_flags & 0x01:
            position.alarms.append("SOS")
        if alarm_flags & 0x02:
            position.alarms.append("overspeed")
        if alarm_flags & 0x04:
            position.alarms.append("fatigue_driving")
        if alarm_flags & 0x80:
            position.alarms.append("geofence_exit")
        if alarm_flags & 0x100:
            position.alarms.append("geofence_enter")
    
    def decode_additional_info(self, position: Position, data: bytes):
        """Decode additional information fields (JT/T 1078 video extensions)"""
        offset = 0
        while offset + 1 < len(data):
            if offset + 1 >= len(data):
                break
                
            info_id = data[offset]
            info_length = data[offset + 1]
            offset += 2
            
            if offset + info_length > len(data):
                break
                
            info_data = data[offset:offset + info_length]
            
            if info_id == 0x01:  # Odometer
                if info_length == 4:
                    position.attributes['odometer'] = struct.unpack('>I', info_data)[0]
                    
            elif info_id == 0x14:  # Video related alarm (JT/T 1078)
                if info_length == 4:
                    video_alarm_flags = struct.unpack('>I', info_data)[0]
                    self.decode_video_alarm_flags(position, video_alarm_flags)
                    
            elif info_id == 0x15:  # Video signal loss alarm status
                if info_length == 4:
                    signal_loss_status = struct.unpack('>I', info_data)[0]
                    position.attributes['video_signal_loss_channels'] = signal_loss_status
                    
            elif info_id == 0x16:  # Video signal occlusion alarm status
                if info_length == 4:
                    occlusion_status = struct.unpack('>I', info_data)[0]
                    position.attributes['video_occlusion_channels'] = occlusion_status
                    
            elif info_id == 0x17:  # Memory fault alarm status
                if info_length == 2:
                    memory_fault_status = struct.unpack('>H', info_data)[0]
                    position.attributes['memory_fault_status'] = memory_fault_status
                    
            elif info_id == 0x18:  # Abnormal driving behavior alarm details
                if info_length >= 3:
                    behavior_type = struct.unpack('>H', info_data[0:2])[0]
                    fatigue_level = info_data[2]
                    position.attributes['behavior_type'] = behavior_type
                    position.attributes['fatigue_level'] = fatigue_level
                    
                    if behavior_type & 0x01:
                        position.alarms.append("fatigue_detected")
                    if behavior_type & 0x02:
                        position.alarms.append("phone_call_detected")
                    if behavior_type & 0x04:
                        position.alarms.append("smoking_detected")
                        
            elif info_id == 0x7C:  # Terminal sleep/wake mode settings (JT/T 1078)
                if info_length >= 3:
                    sleep_wake_mode = info_data[0]
                    wake_condition_type = info_data[1]
                    scheduled_wakeup_days = info_data[2]
                    position.attributes['sleep_wake_mode'] = sleep_wake_mode
                    position.attributes['wake_condition_type'] = wake_condition_type
                    position.attributes['scheduled_wakeup_days'] = scheduled_wakeup_days
            
            offset += info_length
    
    def decode_video_alarm_flags(self, position: Position, video_alarm_flags: int):
        """Decode JT/T 1078 video alarm flags (Table 14)"""
        position.attributes['video_alarm_flags'] = video_alarm_flags
        
        if video_alarm_flags & 0x01:
            position.alarms.append("video_signal_loss")
        if video_alarm_flags & 0x02:
            position.alarms.append("video_signal_blocked")
        if video_alarm_flags & 0x04:
            position.alarms.append("storage_unit_failure")
        if video_alarm_flags & 0x08:
            position.alarms.append("video_equipment_failure")
        if video_alarm_flags & 0x10:
            position.alarms.append("passenger_overcrowding")
        if video_alarm_flags & 0x20:
            position.alarms.append("abnormal_driving_behavior")
        if video_alarm_flags & 0x40:
            position.alarms.append("special_alarm_storage_threshold")
    
    def decode_audio_video_attributes(self, device_id: str, body: bytes) -> Dict[str, Any]:
        """Decode audio/video attributes message (0x1003)"""
        if len(body) < 9:
            raise ValueError("Audio/video attributes body too short")
            
        attributes = {
            'device_id': device_id,
            'input_audio_encoding': body[0],
            'input_audio_channels': body[1], 
            'input_audio_sample_rate': body[2],
            'input_audio_sample_bits': body[3],
            'audio_frame_length': struct.unpack('>H', body[4:6])[0],
            'audio_output_supported': bool(body[6]),
            'video_encoding_method': body[7],
            'max_audio_channels': body[8],
            'max_video_channels': body[9] if len(body) > 9 else 0
        }
        
        return attributes
    
    def decode_passenger_flow(self, device_id: str, body: bytes) -> Dict[str, Any]:
        """Decode passenger flow upload message (0x1005)"""
        if len(body) < 16:
            raise ValueError("Passenger flow body too short")
            
        start_time = self.decode_bcd_time(body[0:6])
        end_time = self.decode_bcd_time(body[6:12])
        passengers_boarded = struct.unpack('>H', body[12:14])[0]
        passengers_departed = struct.unpack('>H', body[14:16])[0]
        
        return {
            'device_id': device_id,
            'start_time': start_time,
            'end_time': end_time,
            'passengers_boarded': passengers_boarded,
            'passengers_departed': passengers_departed,
            'net_passenger_change': passengers_boarded - passengers_departed
        }
    
    def decode_message(self, hex_data: str) -> Dict[str, Any]:
        """Decode a complete JT/T 1078 message from hex string"""
        # Remove 0x7E start/end flags
        if hex_data.startswith('7e') and hex_data.endswith('7e'):
            hex_data = hex_data[2:-2]
        
        # Convert hex to bytes
        try:
            raw_data = bytes.fromhex(hex_data)
        except ValueError as e:
            raise ValueError(f"Invalid hex data: {e}")
        
        # Unescape the data
        data = self.unescape_data(raw_data)
        
        # Parse message header
        try:
            message_id, properties, device_id, sequence, body = self.parse_message_header(data)
        except Exception as e:
            raise ValueError(f"Failed to parse message header: {e}")
        
        result = {
            'message_id': f"0x{message_id:04X}",
            'message_id_int': message_id,
            'message_properties': properties,
            'device_id': device_id,
            'sequence_number': sequence,
            'message_type': self.get_message_type_name(message_id),
            'body_length': len(body)
        }
        
        # Decode message body based on type
        try:
            if message_id == MessageType.MSG_LOCATION_REPORT:
                position = self.decode_location_report(device_id, body)
                result['position'] = position
                
            elif message_id == MessageType.MSG_TERMINAL_AUDIO_VIDEO_ATTRIBUTES:
                attributes = self.decode_audio_video_attributes(device_id, body)
                result['audio_video_attributes'] = attributes
                
            elif message_id == MessageType.MSG_PASSENGER_FLOW_UPLOAD:
                passenger_data = self.decode_passenger_flow(device_id, body)
                result['passenger_flow'] = passenger_data
                
            else:
                result['raw_body'] = body.hex()
                
        except Exception as e:
            result['decode_error'] = str(e)
            result['raw_body'] = body.hex()
        
        return result
    
    def get_message_type_name(self, message_id: int) -> str:
        """Get human-readable message type name"""
        type_names = {
            0x0001: "Terminal General Response",
            0x8001: "General Response", 
            0x0002: "Heartbeat",
            0x0100: "Terminal Register",
            0x8100: "Terminal Register Response",
            0x0102: "Terminal Authentication",
            0x0200: "Location Report",
            0x0704: "Location Batch",
            0x1003: "Terminal Audio Video Attributes",
            0x9003: "Query Audio Video Attributes", 
            0x1005: "Passenger Flow Upload",
            0x9101: "Real-time AV Request",
            0x9102: "Real-time AV Control",
            0x9105: "AV Status Notification",
            0x9205: "Query Resource List",
            0x1205: "Audio Video Resource List",
            0x9206: "File Upload Instruction",
            0x1206: "File Upload Complete",
            0x9207: "File Upload Control",
            0x9301: "PTZ Rotation",
            0x9302: "PTZ Focus Control",
            0x9303: "PTZ Aperture Control", 
            0x9304: "PTZ Wiper Control",
            0x9305: "PTZ Infrared Control",
            0x9306: "PTZ Zoom Control"
        }
        return type_names.get(message_id, f"Unknown (0x{message_id:04X})")


def main():
    """Example usage of the JT1078 decoder"""
    decoder = JT1078Decoder()
    
    # Your sample message

#      = "7e0200002e496076898991003600000000004c000b0299a1e004c09eb5008401fa00db25092703174301040000007c25040000000030011931011f017e"

    messages = [
       "7e01000026496076898991001200000000000000000c6f6b6fdbdf4b69837e6b6320000000000000000303030303030300030b27e",
       "7e01000026496076898991000300000000000000000056edb6fd4debb698c7dcb632000000d329aa099c303030303030300030c87e",
       "7e01000026496076898991000400000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000300a7e",
       "7e01000026496076898991000600000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030087e",
       "7e01000026496076898991000700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030097e",
       "7e01000026496076898991000800000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030067e",
       "7e01000026496076898991000a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030047e",
       "7e01000026496076898991000b00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030057e",
       "7e01000026496076898991000c00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030027e",
       "7e01000026496076898991000e00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030007e",
       "7e01000026496076898991000f00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030017e",
       "7e01000026496076898991001100000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301f7e",
       "7e01000026496076898991001200000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301c7e",
       "7e01000026496076898991001300000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301d7e",
       "7e01000026496076898991001500000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301b7e",
       "7e01000026496076898991001600000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030187e",
       "7e01000026496076898991001700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030197e",
       "7e01000026496076898991001900000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030177e",
       "7e01000026496076898991001a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030147e",
       "7e01000026496076898991001c00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030127e",
       "7e01000026496076898991001d00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030137e",
       "7e01000026496076898991001f00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030117e",
       "7e01000026496076898991002100000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302f7e",
       "7e01000026496076898991002200000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302c7e",
       "7e01000026496076898991002400000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302a7e",
       "7e01000026496076898991002500000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302b7e",
       "7e01000026496076898991002700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030297e",
       "7e01000026496076898991002900000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030277e",
       "7e01000026496076898991002a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030247e",
       "7e01000026496076898991002b00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030257e",
       "7e8100000f4960768989910000002b00343936303736383938393931697e",
       "7e0102000c496076898991002c343936303736383938393931ef7e",
       "7e800100054960768989910000002c010200657e",
       "7e00020000496076898991002de17e",
       "7e800100054960768989910000002d000200657e",
       "7e0200002e496076898991002e00000000004c000b0299b14f04c08d7b008d014a00dc25092703164201040000007725040000000030011731011dc27e",
       "7e0200002e496076898991002f00000000004c000b0299b11504c08dbd008d016500db25092703164301040000007725040000000030011731011a717e",
       "7e800100054960768989910000002e020000667e",
       "7e800100054960768989910000002f020000677e",
       "7e070400f34960768989910030000501002e00000000000c000b0299b22904c074bc00900000000025092703082301040000006b25040000000030011531011b002e00000000000c000b0299b22904c074bc00900000000025092703085301040000006b25040000000030011531011a002e00000000000c000b0299b22904c074bc00900000000025092703092301040000006b25040000000030011531011a002e00000000000c000b0299b22904c074bc00900000000025092703095301040000006b25040000000030011531011b002e00000000000c000b0299b22904c074bc00900000000025092703102301040000006b25040000000030011531011ac57e",
       "7e8001000549607689899100000030070400797e",
       "7e070400f94960768989910031000501003400000000000c000b0299b24104c074bd009e0000000025092703111201040000006b25040000000030010031011bfa0400000040002e00000000000c000b0299b24104c074bd009e0000000025092703111301040000006b25040000000030010031011b002e00000000000c000b0299b24104c074bd009e0000000025092703114301040000006b25040000000030011531011a002e00000000000c000b0299b24104c074bd009e0000000025092703121301040000006b25040000000030011531011b002e00000000000c000b0299b24104c074bd009e0000000025092703124301040000006b2504000000003001153101193f7e",
       "7e8001000549607689899100000031070400787e",
       "7e070401244960768989910032000501002e00000000000c000b0299b24104c074bd009e0000000025092703131301040000006b25040000000030011531011b002e00000000000c000b0299b24104c074bd009d0000000025092703134301040000006b25040000000030011531011b002e00000000004c000b0299b04904c075ed0098010c008a25092703141301040000006b25040000000030011531011d002e00000000004c000b0299a9b604c073ca008e01e400b825092703144301040000006e25040000000030011431011b005f00000000004c000b0299a2e504c0755c008c017000d825092703150101040000007025040000000030011331011b652f0000000000020200000000002f008d0299a4e504c0739a250927031455040130000000000000250927031455000400b77e",
       "7e80010005496076898991000000320704007b7e",
       "7e070400f44960768989910033000401002e00000000004c000b0299a31204c0784b008c0116013b25092703151301040000007125040000000030011531011a002e00000000004c000b0299a88a04c07fcd008f0146013c25092703154301040000007325040000000030011631011a005f00000000004c000b0299ab3204c08386008e0120013725092703160401040000007425040000000030011731011d652f0000000100020200000000001a008f0299aa3f04c0821b250927031558040130000000000000250927031558010400002e00000000004c000b0299acf904c085f9008f0119013c25092703161301040000007525040000000030011731011c457e",
       "7e80010005496076898991000000330704007a7e",
       "7e0200002e496076898991003400000000004c000b0299a97804c0963e0086016d00db25092703171301040000007a25040000000030011731011fdd7e",
       "7e80010005496076898991000000340200007c7e",
       "7e000200004960768989910035f97e",
       "7e80010005496076898991000000350002007d017e",
       "7e0200002e496076898991003600000000004c000b0299a1e004c09eb5008401fa00db25092703174301040000007c25040000000030011931011f017e",
       "7e80010005496076898991000000360200007d027e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b02999d8e04c0a3830084022000db25092703175401040000007d0225040000000030011b31011ea27e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b02999d2c04c0a3f60084022700db25092703175501040000007d0225040000000030011b31011d777e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200005f496076898991000500000000004c000b029998b304c0a8f10082024500da25092703180701040000008025040000000030011b31011e652f00000002000601000000000037008302999b2d04c0a622250927031801040130000000000000250927031801020400f17e",
       "7e80010005496076898991000000050200004d7e",
       "7e0200005f496076898991000600000000004c000b029991cb04c0b0930083025800da25092703182301040000008225040000000030011d31011e652f0000000300020200000000003c00820299947d0104c0ada12509270318170401300000000000002509270318170304001f7e",
       "7e80010005496076898991000000060200004e7e",
       "7e0200002e496076898991000700000000004c000b029990e804c0b1840084024e00d925092703182501040000008325040000000030011731011e3b7e",
       "7e80010005496076898991000000070200004f7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b02998afc04c0b59e008901cf008825092703184201040000008525040000000030011931011f9f7e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b02998aaa04c0b536008901ea008625092703184301040000008525040000000030011931011e4d7e",
       "7e80010005496076898991000000040200004c7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b0299864304c0af2500890299008625092703185401040000008625040000000030011b31011cc27e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b029985cf04c0ae8f008902a1008a25092703185501040000008725040000000030011b31011cd57e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000004c000b02997d024304c0a987008801a0011325092703192501040000008a25040000000030011f31011d4e7e",
       "7e80010005496076898991000000050200004d7e",
       "7e000200004960768989910006ca7e",
       "7e80010005496076898991000000060002004e7e",
       "7e0200002e496076898991000700000000000c000b02997b0f04c0b950008a000000fb25092703195501040000008d25040000000030011e31011dbe7e",
       "7e80010005496076898991000000070200004f7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e",
       "7e80010005496076898991000000020002004a7e",
       "7e0200002e496076898991000300000000004c000b029978bf04c0b941008b009e009e25092703201201040000008e25040000000030011f31011fdc7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000000c000b029978a004c0b92d008b0000009925092703203601040000008e25040000000030011f3101206d7e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b029978a004c0b92d008b0000009925092703203701040000008e25040000000030011f3101206b7e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000004c000b0299773804c0b7b8008c0106015425092703205201040000008f25040000000030011f31011fb17e",
       "7e80010005496076898991000000050200004d7e",
       "7e02000038496076898991000600000000004c000b02997af304c0b923008c0188004125092703210501040000009025040000000030011d31011f14040000000417020001267e",
       "7e80010005496076898991000000060200004e7e",
       "7e02000038496076898991000700000000004c000b02997b4304c0b80b008c021e004725092703210701040000009025040000000030011d31011f140400000004170200012e7e",
       "7e80010005496076898991000000070200004f7e",
       "7e000200004960768989910008c47e",
       "7e8001000549607689899100000008000200407e",
       "7e02000038496076898991000900000000000c000b02997d01f104c0a8ac00880000006125092703213701040000009325040000000030011e31012014040000000417020001527e",
       "7e8001000549607689899100000009020000417e",
       "7e0200002e496076898991000a00000000004c000b0299758804c097ab00920305008725092703220701040000009825040000000030011f3101218c7e",
       "7e800100054960768989910000000a020000427e",
       "7e0200002e496076898991000b00000000004c000b02996b7d0204c08cd10087016400dc25092703223001040000009b25040000000030011e31011e237e",
       "7e800100054960768989910000000b020000437e",
       "7e00020000496076898991000cc07e",
       "7e800100054960768989910000000c000200447e",
       "7e0200002e496076898991000d00000000004c000b0299691504c090350088029000e625092703223701040000009c25040000000030011e31011d757e",
       "7e800100054960768989910000000d020000457e",
       "7e0200005f496076898991000e00000000004c000b029966e204c094a20089029400eb25092703224401040000009e25040000000030011f31011f642f000000070002020000000000430088029968d604c0909e250927032238040130000000000000250927032238070400487e",
       "7e800100054960768989910000000e020000467e",
       "7e0200002e496076898991000f00000000004c000b02995b5504c0a10d008a02ac00f92509270323070104000000a225040000000030011f3101201e7e",
       "7e800100054960768989910000000f020000477e",
       "7e0200005f496076898991001000000000000c000b0299579e04c0acfa008c000000e62509270323320104000000a525040000000030011b310120642f00000008000101000000000013008c029957b804c0acd2250927032325040130000000000000250927032325080400a77e",
       "7e8001000549607689899100000010020000587e",
       "7e000200004960768989910011dd7e",
       "7e8001000549607689899100000011000200597e",
       "7e0200002e496076898991001200000000004c000b029956a804c0ae64008d017700e32509270323370104000000a525040000000030011b310120637e",
       "7e80010005496076898991000000120200005a7e",
       "7e0200002e496076898991001300000000000c000b02994d6504c0b9a00096000000ee2509270324070104000000a825040000000030011c31011e447e",
       "7e80010005496076898991000000130200005b7e",
       "7e000200004960768989910014d87e",
       "7e80010005496076898991000000140002005c7e",
       "7e0200002e496076898991001500000000004c000b02994cbe04c0bb1e009700f600f12509270324370104000000a925040000000030011b310121857e",
       "7e80010005496076898991000000150200005d7e",
       "7e0200005f496076898991001600000000004c000b02994ca004c0bc250097014d01182509270324410104000000a925040000000030011b31011f652f00000009000401000000000013009602994cff04c0ba85250927032434040130000000000000250927032434090400e77e",
       "7e80010005496076898991000000160200005e7e",
       "7e0200002e496076898991001700000000004c000b0299572404c0c9a20097026e013d2509270325070104000000ad25040000000030011f310120af7e",
       "7e80010005496076898991000000170200005f7e",
       "7e0200005f496076898991001800000000004c000b02995e4b04c0cc67009c02b9001c2509270325220104000000af25040000000030011f310122702f0000000a00030001001c00003b009b02995a9404c0ccff2509270325150401300000000000002509270325150a0400dc7e",
       "7e8001000549607689899100000018020000507e",
       "7e000200004960768989910019d57e",
       "7e8001000549607689899100000019000200517e",
       "7e0200002e496076898991001a00000000004c000b029967ce04c0b8df00950518003b2509270325370104000000b425040000000030011f3101222b7e",
       "7e800100054960768989910000001a020000527e",
       "7e0200005f496076898991001b00000000004c000b02996b8604c0af6800940452003f2509270325450104000000b725040000000030011f310122642f0000000b00020200000000007d0200940299682e04c0b7fe2509270325390401300000000000002509270325390b0400407e",
       "7e800100054960768989910000001b020000537e",
       "7e0200002e496076898991001c00000000004c000b029977fe04c08f3400850458003d2509270326070104000000be25040000000030011f310120bd7e",
       "7e800100054960768989910000001c020000547e",
       "7e00020000496076898991001dd17e",
       "7e800100054960768989910000001d000200557e",
       "7e0200002e496076898991001e00000000004c000b0299840b04c06f2b0083041d003e2509270326370104000000c525040000000030011a310120487e",
       "7e800100054960768989910000001e020000567e",
       "7e0200005f496076898991001f00000000004c000b02998d3204c058db00880519003b2509270326570104000000cb25040000000030011e31011f642f0000000c00020200000000005e00850299899004c0618a2509270326500401300000000000002509270326500c04009d7e",
       "7e800100054960768989910000001f020000577e",
       "7e0200002e496076898991002000000000004c000b029992e604c0491f009103d800442509270327070104000000ce25040000000030011e3101210a7e",
       "7e8001000549607689899100000020020000687e",
       "7e0200005f496076898991002100000000004c000b029992cd04c0400f0099030500692509270327160104000000d025040000000030011f310122702f0000000d00030001001c00005d00920299936304c046b62509270327100401300000000000002509270327100d04005d7e",
       "7e8001000549607689899100000021020000697e",
       "7e0200002e496076898991002200000000004c000b029995e204c039f300a0017601362509270327310104000000d225040000000030011f310123507e",
       "7e80010005496076898991000000220200006a7e",
       "7e0200005f496076898991002300000000004c000b0299966c04c03adb00a0024501392509270327330104000000d225040000000030011f310122652f0000000e000401000000000022009f029994e104c039a02509270327270401300000000000002509270327270e0400ca7e",
       "7e80010005496076898991000000230200006b7e",
       "7e000200004960768989910024e87e",
       "7e80010005496076898991000000240002006c7e",
       "7e0200002e496076898991002500000000004c000b0299985d04c03dae00a10304013a2509270327370104000000d325040000000030011f310122c77e",
       "7e80010005496076898991000000250200006d7e",
       "7e0200002e496076898991002600000000004c000b0299a4d904c04d980097003c013f2509270328070104000000d825040000000030011f310121057e",
       "7e80010005496076898991000000260200006e7e",
       "7e000200004960768989910027eb7e",
       "7e80010005496076898991000000270002006f7e",
       "7e0200002e496076898991002800000000000c000b0299a4d904c04d9800970000013f2509270328370104000000d825040000000030011e310120477e",
       "7e8001000549607689899100000028020000607e",
       "7e0200002e496076898991002900000000000c000b0299a4d904c04d9800970000013f2509270329070104000000d825040000000030011e31011f487e",
       "7e8001000549607689899100000029020000617e",
       "7e00020000496076898991002ae67e",
       "7e800100054960768989910000002a000200627e",
       "7e0200002e496076898991002b00000000000c000b0299a4d904c04d9800970000013f2509270329370104000000d825040000000030011e310122477e",
       "7e800100054960768989910000002b020000637e",
       "7e0200005f496076898991002c00000000004c000b0299a79e04c05133009502a1013b2509270329500104000000d925040000000030011f310120652f0000000f00040100000000002200970299a55b04c04e362509270329430401300000000000002509270329430f0400507e",
       "7e800100054960768989910000002c020000647e",
       "7e0200002e496076898991002d00000000004c000b0299b23c04c05e8300920346013f2509270330070104000000dd25040000000030011f310120957e",
       "7e800100054960768989910000002d020000657e",
       "7e0200005f496076898991002e00000000004c000b0299b4ad04c0617d0100930146013b2509270330140104000000de25040000000030011d31011e642f0000001000020200000000005800920299b1ba04c05def250927033007040130000000000000250927033007100400cc7e",
       "7e800100054960768989910000002e020000667e",
       "7e00020000496076898991002fe37e",
       "7e800100054960768989910000002f000200677e",
       "7e0200002e496076898991003000000000004c000b0299b53104c062bd0093014500fc2509270330370104000000de25040000000030011d31011e4d7e",
       "7e8001000549607689899100000030020000787e",
       "7e0200002e496076898991003100000000004c000b0299b50f04c063280093019000ec2509270330380104000000df25040000000030011d31011e2d7e",
       "7e8001000549607689899100000031020000797e",
       "7e0200005f496076898991003200000000004c000b0299b27d0104c065da009200ec00c72509270330480104000000e025040000000030011d31011e702f0000001100030001001c00002e00930299b47d0204c063ec250927033041040130000000000000250927033041110400117e",
       "7e80010005496076898991000000320200007a7e",
       "7e0200002e496076898991003300000000004c000b0299b22804c0672500930167012e2509270330530104000000e025040000000030011d31011c647e",
       "7e80010005496076898991000000330200007b7e",
       "7e0200002e496076898991003400000000004c000b0299b6d804c06c0e009300f9013e2509270331070104000000e225040000000030011531011e657e",
       "7e80010005496076898991000000340200007c7e",
       "7e0200002e496076898991003500000000004c000b0299b6e804c06d0f0093014200e32509270331120104000000e225040000000030011331011c237e",
       "7e80010005496076898991000000350200007d017e",
       "7e0200005f496076898991003600000000004c000b0299b60304c06e160092021e00da2509270331150104000000e225040000000030011331011a702f0000001200030001001c00001200930299b6fb04c06c39250927033108040130000000000000250927033108120400707e",
       "7e80010005496076898991000000360200007d027e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200005f496076898991000300000000004c000b0299af7404c073ac009201a6011f2509270331360104000000e525040000000030011531011b702f0000001300030001001c00001b00920299af8804c0719f250927033130040130000000000000250927033130130400097e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b0299af9b04c07435009201cd01252509270331370104000000e525040000000030011531011a307e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200005f496076898991000500000000004c000b0299b1ec04c075df0094010b00312509270331490104000000e625040000000030011731011c702f0000001400030001001c00001900930299b07204c076222509270331420401300000000000002509270331421404005d7e",
       "7e80010005496076898991000000050200004d7e",
       "7e0200002e496076898991000600000000004c000b0299b1ec04c0752a009400b600952509270331510104000000e625040000000030011731011de87e",
       "7e80010005496076898991000000060200004e7e",
       "7e0200002e496076898991000700000000000c000b0299b24104c074d600950000001f2509270332070104000000e625040000000030011531011a977e",
       "7e80010005496076898991000000070200004f7e",
       "7e000200004960768989910008c47e",
       "7e8001000549607689899100000008000200407e",
       "7e0200002e496076898991000900000000000c000b0299b24104c074d600950000001f2509270332370104000000e6250400000000300115310119aa7e",
       "7e8001000549607689899100000009020000417e",
       "7e0200002e496076898991000a00000000000c000b0299b24104c074d600950000001f2509270333070104000000e625040000000030011531011b9a7e",
       "7e800100054960768989910000000a020000427e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000000c000b0299b24104c074d600950000001f2509270334150104000000e625040000000030011531011a877e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b0299b24104c074d600950000001f2509270334160104000000e625040000000030011531011a837e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000000c000b0299b24104c074d600950000001f2509270334460104000000e625040000000030011531011cd47e",
       "7e80010005496076898991000000050200004d7e",
       "7e000200004960768989910006ca7e",
       "7e80010005496076898991000000060002004e7e",
       "7e0200002e496076898991000700000000000c000b0299b24104c074d600950000001f2509270335160104000000e625040000000030011531011a817e",
       "7e80010005496076898991000000070200004f7e",
       "7e0200002e496076898991000800000000000c000b0299b24104c074d600950000001f2509270335460104000000e625040000000030011531011bdf7e",
       "7e8001000549607689899100000008020000407e",
       "7e000200004960768989910009c57e",
       "7e8001000549607689899100000009000200417e",
       "7e0200002e496076898991000a00000000000c000b0299b24104c074d600950000001f2509270336160104000000e625040000000030011531011d887e",
       "7e800100054960768989910000000a020000427e",
       "7e0200002e496076898991000b00000000000c000b0299b24104c074d600950000001f2509270336460104000000e625040000000030011531011bdf7e",
       "7e800100054960768989910000000b020000437e",
       "7e02000034496076898991000c00000000000c000a0299b24104c074d600950000001f2509270336520104000000e625040000000030011531011bfa0400000080a97e",
       "7e800100054960768989910000000c020000447e",
       "7e01000026496076898991ffff0000000000000000003030303030303030303030303030303030303030303030303030300030e97e",
       "7e8100000f4960768989910000ffff00343936303736383938393931427e",
       "7e0102000c496076898991ffff343936303736383938393931c37e",
       "7e800100054960768989910000ffff010200497e",
       "7e00020000496076898991000dc17e",
       "7e800100054960768989910000000d000200457e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e",
       "7e80010005496076898991000000020002004a7e",
       "7e02000034496076898991000300000000000c000b0299b25304c0749f009d000000002509270347090104000000e6250400000000300114310114fa04000000400f7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b0299b25304c0749f009d000000002509270347100104000000e6250400000000300114310115b47e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000000c000b0299b25304c0749f009d000000002509270347400104000000e6250400000000300114310117e77e",
       "7e80010005496076898991000000050200004d7e",
       "7e000200004960768989910006ca7e",
       "7e80010005496076898991000000060002004e7e",
       "7e0200002e496076898991000700000000000c000b0299b25304c0749f009d000000002509270348100104000000e6250400000000300114310119b47e",
       "7e80010005496076898991000000070200004f7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000000c000b0299b25304c0749f009d000000002509270348160104000000e6250400000000300114310119b67e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b0299b25304c0749f009d000000002509270348170104000000e6250400000000300115310119b17e",
       "7e80010005496076898991000000040200004c7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e",
       "7e80010005496076898991000000020002004a7e",
       "7e0200002e496076898991000300000000000c000b0299b25304c0749f009d000000002509270348330104000000e6250400000000300115310119927e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b0299b25304c0749f009d000000002509270348340104000000e6250400000000300115310119927e",
       "7e80010005496076898991000000040200004c7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000000c000b0299b25304c0749f009d000000002509270348450104000000e6250400000000300115310118e57e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b0299b25304c0749f009d000000002509270348460104000000e6250400000000300115310118e17e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000000c000b0299b25304c0749f009d000000002509270349160104000000e625040000000030011531011ab37e",
       "7e80010005496076898991000000050200004d7e",
       "7e000200004960768989910006ca7e",
       "7e80010005496076898991000000060002004e7e",
       "7e02000038496076898991000700000000000c000b0299b25304c0749f009d000000002509270349460104000000e625040000000030011531011914040000000417020001f47e",
       "7e80010005496076898991000000070200004f7e",
       "7e02000038496076898991000800000000000c000b0299b25304c0749f009d000000002509270350160104000000e625040000000030011531011914040000000417020001b27e",
       "7e8001000549607689899100000008020000407e",
       "7e000200004960768989910009c57e",
       "7e8001000549607689899100000009000200417e",
       "7e02000038496076898991000a00000000000c000b0299b25304c0749f009d000000002509270350460104000000e625040000000030011531011914040000000417020001e07e",
       "7e800100054960768989910000000a020000427e",
       "7e0200003e496076898991000b00000000000c000a0299b25304c0749f009d000000002509270350570104000000e625040000000030011531011914040000000417020001fa0400000080897e",
       "7e800100054960768989910000000b020000437e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e01000026496076898991ffff0000000000000000003030303030303030303030303030303030303030303030303030300030e97e",
       "7e8100000f4960768989910000ffff00343936303736383938393931427e",
       "7e0102000c496076898991ffff343936303736383938393931c37e",
       "7e800100054960768989910000ffff010200497e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e00020000496076898991ffffcc7e",
       "7e800100054960768989910000ffff000200487e",
       "7e010000264960768989910012000000000000000000c6f6b6fdbdf4b69837e6b6320000000000000000303030303030300030b27e",
       "7e01000026496076898991000300000000000000000056edb6fd4debb698c7dcb632000000d329aa099c303030303030300030c87e",
       "7e01000026496076898991000400000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000300a7e",
       "7e01000026496076898991000600000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030087e",
       "7e01000026496076898991000700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030097e",
       "7e01000026496076898991000800000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030067e",
       "7e01000026496076898991000a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030047e",
       "7e01000026496076898991000b00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030057e",
       "7e01000026496076898991000c00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030027e",
       "7e01000026496076898991000e00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030007e",
       "7e01000026496076898991000f00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030017e",
       "7e01000026496076898991001100000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301f7e",
       "7e01000026496076898991001200000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301c7e",
       "7e01000026496076898991001300000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301d7e",
       "7e01000026496076898991001500000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000301b7e",
       "7e01000026496076898991001600000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030187e",
       "7e01000026496076898991001700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030197e",
       "7e01000026496076898991001900000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030177e",
       "7e01000026496076898991001a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030147e",
       "7e01000026496076898991001c00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030127e",
       "7e01000026496076898991001d00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030137e",
       "7e01000026496076898991001f00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030117e",
       "7e01000026496076898991002100000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302f7e",
       "7e01000026496076898991002200000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302c7e",
       "7e01000026496076898991002400000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302a7e",
       "7e01000026496076898991002500000000000000000056edb6fd4debb698c7dcb63200000000000000003030303030303000302b7e",
       "7e01000026496076898991002700000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030297e",
       "7e01000026496076898991002900000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030277e",
       "7e01000026496076898991002a00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030247e",
       "7e01000026496076898991002b00000000000000000056edb6fd4debb698c7dcb6320000000000000000303030303030300030257e",
       "7e8100000f4960768989910000002b00343936303736383938393931697e",
       "7e0102000c496076898991002c343936303736383938393931ef7e",
       "7e800100054960768989910000002c010200657e",
       "7e00020000496076898991002de17e",
       "7e800100054960768989910000002d000200657e",
       "7e0200002e496076898991002e00000000004c000b0299b14f04c08d7b008d014a00dc25092703164201040000007725040000000030011731011dc27e",
       "7e0200002e496076898991002f00000000004c000b0299b11504c08dbd008d016500db25092703164301040000007725040000000030011731011a717e",
       "7e800100054960768989910000002e020000667e",
       "7e800100054960768989910000002f020000677e",
       "7e070400f34960768989910030000501002e00000000000c000b0299b22904c074bc00900000000025092703082301040000006b25040000000030011531011b002e00000000000c000b0299b22904c074bc00900000000025092703085301040000006b25040000000030011531011a002e00000000000c000b0299b22904c074bc00900000000025092703092301040000006b25040000000030011531011a002e00000000000c000b0299b22904c074bc00900000000025092703095301040000006b25040000000030011531011b002e00000000000c000b0299b22904c074bc00900000000025092703102301040000006b25040000000030011531011ac57e",
       "7e8001000549607689899100000030070400797e",
       "7e070400f94960768989910031000501003400000000000c000b0299b24104c074bd009e0000000025092703111201040000006b25040000000030010031011bfa0400000040002e00000000000c000b0299b24104c074bd009e0000000025092703111301040000006b25040000000030010031011b002e00000000000c000b0299b24104c074bd009e0000000025092703114301040000006b25040000000030011531011a002e00000000000c000b0299b24104c074bd009e0000000025092703121301040000006b25040000000030011531011b002e00000000000c000b0299b24104c074bd009e0000000025092703124301040000006b2504000000003001153101193f7e",
       "7e8001000549607689899100000031070400787e",
       "7e070401244960768989910032000501002e00000000000c000b0299b24104c074bd009e0000000025092703131301040000006b25040000000030011531011b002e00000000000c000b0299b24104c074bd009d0000000025092703134301040000006b25040000000030011531011b002e00000000004c000b0299b04904c075ed0098010c008a25092703141301040000006b25040000000030011531011d002e00000000004c000b0299a9b604c073ca008e01e400b825092703144301040000006e25040000000030011431011b005f00000000004c000b0299a2e504c0755c008c017000d825092703150101040000007025040000000030011331011b652f0000000000020200000000002f008d0299a4e504c0739a250927031455040130000000000000250927031455000400b77e",
       "7e80010005496076898991000000320704007b7e",
       "7e070400f44960768989910033000401002e00000000004c000b0299a31204c0784b008c0116013b25092703151301040000007125040000000030011531011a002e00000000004c000b0299a88a04c07fcd008f0146013c25092703154301040000007325040000000030011631011a005f00000000004c000b0299ab3204c08386008e0120013725092703160401040000007425040000000030011731011d652f0000000100020200000000001a008f0299aa3f04c0821b250927031558040130000000000000250927031558010400002e00000000004c000b0299acf904c085f9008f0119013c25092703161301040000007525040000000030011731011c457e",
       "7e80010005496076898991000000330704007a7e",
       "7e0200002e496076898991003400000000004c000b0299a97804c0963e0086016d00db25092703171301040000007a25040000000030011731011fdd7e",
       "7e80010005496076898991000000340200007c7e",
       "7e000200004960768989910035f97e",
       "7e80010005496076898991000000350002007d017e",
       "7e0200002e496076898991003600000000004c000b0299a1e004c09eb5008401fa00db25092703174301040000007c25040000000030011931011f017e",
       "7e80010005496076898991000000360200007d027e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b02999d8e04c0a3830084022000db25092703175401040000007d0225040000000030011b31011ea27e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b02999d2c04c0a3f60084022700db25092703175501040000007d0225040000000030011b31011d777e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200005f496076898991000500000000004c000b029998b304c0a8f10082024500da25092703180701040000008025040000000030011b31011e652f00000002000601000000000037008302999b2d04c0a622250927031801040130000000000000250927031801020400f17e",
       "7e80010005496076898991000000050200004d7e",
       "7e0200005f496076898991000600000000004c000b029991cb04c0b0930083025800da25092703182301040000008225040000000030011d31011e652f0000000300020200000000003c00820299947d0104c0ada12509270318170401300000000000002509270318170304001f7e",
       "7e80010005496076898991000000060200004e7e",
       "7e0200002e496076898991000700000000004c000b029990e804c0b1840084024e00d925092703182501040000008325040000000030011731011e3b7e",
       "7e80010005496076898991000000070200004f7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b02998afc04c0b59e008901cf008825092703184201040000008525040000000030011931011f9f7e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b02998aaa04c0b536008901ea008625092703184301040000008525040000000030011931011e4d7e",
       "7e80010005496076898991000000040200004c7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000004c000b0299864304c0af2500890299008625092703185401040000008625040000000030011b31011cc27e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000004c000b029985cf04c0ae8f008902a1008a25092703185501040000008725040000000030011b31011cd57e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000004c000b02997d024304c0a987008801a0011325092703192501040000008a25040000000030011f31011d4e7e",
       "7e80010005496076898991000000050200004d7e",
       "7e000200004960768989910006ca7e",
       "7e80010005496076898991000000060002004e7e",
       "7e0200002e496076898991000700000000000c000b02997b0f04c0b950008a000000fb25092703195501040000008d25040000000030011e31011dbe7e",
       "7e80010005496076898991000000070200004f7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e",
       "7e80010005496076898991000000020002004a7e",
       "7e0200002e496076898991000300000000004c000b029978bf04c0b941008b009e009e25092703201201040000008e25040000000030011f31011fdc7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e0102000c4960768989910001343936303736383938393931c27e",
       "7e8001000549607689899100000001010200487e",
       "7e000200004960768989910002ce7e7e0200002e496076898991000300000000000c000b029978a004c0b92d008b0000009925092703203601040000008e25040000000030011f3101206d7e",
       "7e80010005496076898991000000020002004a7e",
       "7e80010005496076898991000000030200004b7e",
       "7e0200002e496076898991000400000000000c000b029978a004c0b92d008b0000009925092703203701040000008e25040000000030011f3101206b7e",
       "7e80010005496076898991000000040200004c7e",
       "7e0200002e496076898991000500000000004c000b0299773804c0b7b8008c0106015425092703205201040000008f25040000000030011f31011fb17e",
       "7e80010005496076898991000000050200004d7e",
       "7e02000038496076898991000600000000004c000b02997af304c0b923008c0188004125092703210501040000009025040000000030011d31011f14040000000417020001267e",
       "7e80010005496076898991000000060200004e7e",
       "7e02000038496076898991000700000000004c000b02997b4304c0b80b008c021e004725092703210701040000009025040000000030011d31011f140400000004170200012e7e",
       "7e80010005496076898991000000070200004f7e",
       "7e000200004960768989910008c47e",
       "7e8001000549607689899100000008000200407e",
       "7e02000038496076898991000900000000000c000b02997d01f104c0a8ac00880000006125092703213701040000009325040000000030011e31012014040000000417020001527e",
       "7e8001000549607689899100000009020000417e",
       "7e0200002e496076898991000a00000000004c000b0299758804c097ab00920305008725092703220701040000009825040000000030011f3101218c7e",
       "7e800100054960768989910000000a020000427e",
       "7e0200002e496076898991000b00000000004c000b02996b7d0204c08cd10087016400dc25092703223001040000009b25040000000030011e31011e237e",
       "7e800100054960768989910000000b020000437e",
       "7e00020000496076898991000cc07e",
       "7e800100054960768989910000000c000200447e",
       "7e0200002e496076898991000d00000000004c000b0299691504c090350088029000e625092703223701040000009c25040000000030011e31011d757e",
       "7e800100054960768989910000000d020000457e",
       "7e0200005f496076898991000e00000000004c000b029966e204c094a20089029400eb25092703224401040000009e25040000000030011f31011f642f000000070002020000000000430088029968d604c0909e250927032238040130000000000000250927032238070400487e",
       "7e800100054960768989910000000e020000467e",
       "7e0200002e496076898991000f00000000004c000b02995b5504c0a10d008a02ac00f92509270323070104000000a225040000000030011f3101201e7e",
       "7e800100054960768989910000000f020000477e",
       "7e0200005f496076898991001000000000000c000b0299579e04c0acfa008c000000e62509270323320104000000a525040000000030011b310120642f00000008000101000000000013008c029957b804c0acd2250927032325040130000000000000250927032325080400a77e",
       "7e8001000549607689899100000010020000587e",
       "7e000200004960768989910011dd7e",
       "7e8001000549607689899100000011000200597e",
       "7e0200002e496076898991001200000000004c000b029956a804c0ae64008d017700e32509270323370104000000a525040000000030011b310120637e",
       "7e80010005496076898991000000120200005a7e",
       "7e0200002e496076898991001300000000000c000b02994d6504c0b9a00096000000ee2509270324070104000000a825040000000030011c31011e447e",
       "7e80010005496076898991000000130200005b7e",
       "7e000200004960768989910014d87e",
       "7e80010005496076898991000000140002005c7e",
       "7e0200002e496076898991001500000000004c000b02994cbe04c0bb1e009700f600f12509270324370104000000a925040000000030011b310121857e",
       "7e80010005496076898991000000150200005d7e",
       "7e0200005f496076898991001600000000004c000b02994ca004c0bc250097014d01182509270324410104000000a925040000000030011b31011f652f00000009000401000000000013009602994cff04c0ba85250927032434040130000000000000250927032434090400e77e",
       "7e80010005496076898991000000160200005e7e",
       "7e0200002e496076898991001700000000004c000b0299572404c0c9a20097026e013d2509270325070104000000ad25040000000030011f310120af7e",
       "7e80010005496076898991000000170200005f7e",
       "7e0200005f496076898991001800000000004c000b02995e4b04c0cc67009c02b9001c2509270325220104000000af25040000000030011f310122702f0000000a00030001001c00003b009b02995a9404c0ccff2509270325150401300000000000002509270325150a0400dc7e",
       "7e8001000549607689899100000018020000507e",
       "7e000200004960768989910019d57e",
       "7e8001000549607689899100000019000200517e",
       "7e0200002e496076898991001a00000000004c000b029967ce04c0b8df00950518003b2509270325370104000000b425040000000030011f3101222b7e",
       "7e800100054960768989910000001a020000527e",
    ]
    for sample_hex in messages:

#         print("JT/T 1078 Protocol Decoder")
#         print("=" * 50)
#         print(f"Input: {sample_hex}")
#         print()

        try:
            result = decoder.decode_message(sample_hex)
            if (result['message_type'] not in ["Location Report", "General Response", "Heartbeat", "Terminal Authentication"]):
                print("JT/T 1078 Protocol Decoder")
                print("=" * 50)
                print(f"Input: {sample_hex}")
                print()
                print("Decoded Message:")
                print(f"Message Type: {result['message_type']} ({result['message_id']})")
                print(f"Device ID: {result['device_id']}")
                print(f"Sequence: {result['sequence_number']}")
                print()

                if 'position' in result:
                    pos = result['position']
                    print("Location Data:")
                    print(f"  Timestamp: {pos.timestamp}")
                    print(f"  Latitude: {pos.latitude:.6f}")
                    print(f"  Longitude: {pos.longitude:.6f}")
                    print(f"  Altitude: {pos.altitude}m")
                    print(f"  Speed: {pos.speed:.1f} km/h")
                    print(f"  Course: {pos.course}")
                    print(f"  Valid: {pos.valid}")

                    if pos.alarms:
                        print(f"  Alarms: {', '.join(pos.alarms)}")

                    if pos.attributes:
                        print("  Additional Attributes:")
                        for key, value in pos.attributes.items():
                            print(f"    {key}: {value}")

                elif 'decode_error' in result:
                    print(f"Decode Error: {result['decode_error']}")
                    print(f"Raw Body: {result['raw_body']}")

        except Exception as e:
            print(f"Error decoding message: {e}")


if __name__ == "__main__":
    main()